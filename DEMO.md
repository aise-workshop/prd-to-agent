# AI Puppeteer Test Generator - æ¼”ç¤ºæŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd prd-to-agent

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„ API Key
```

### 2. å¯åŠ¨æ¼”ç¤ºåº”ç”¨

```bash
# å¯åŠ¨ç¤ºä¾‹å‰ç«¯åº”ç”¨
cd examples/sample-frontend
npm install
npm start

# åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨
```

### 3. è¿è¡Œ AI æµ‹è¯•ç”Ÿæˆå™¨

```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ../../

# è¿è¡Œé»˜è®¤æ¼”ç¤º
npm start

# æˆ–è€…ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°
npm start -- --input "æµ‹è¯•ç”µå•†ç½‘ç«™çš„å®Œæ•´è´­ä¹°æµç¨‹" --project ./examples/sample-frontend --url http://localhost:3000
```

## æ¼”ç¤ºåœºæ™¯

### åœºæ™¯ 1: ç”µå•†ç½‘ç«™åŸºæœ¬æµç¨‹æµ‹è¯•

**ç”¨æˆ·éœ€æ±‚**: "æˆ‘éœ€è¦æµ‹è¯•ä¸€ä¸ªç”µå•†ç½‘ç«™çš„ä¸»è¦åŠŸèƒ½ï¼šç”¨æˆ·ç™»å½•ã€æµè§ˆå•†å“åˆ—è¡¨ã€æŸ¥çœ‹å•†å“è¯¦æƒ…ã€æ·»åŠ åˆ°è´­ç‰©è½¦çš„å®Œæ•´æµç¨‹"

**é¢„æœŸç»“æœ**:
- ç”Ÿæˆç™»å½•é¡µé¢æµ‹è¯•
- ç”Ÿæˆå•†å“åˆ—è¡¨é¡µé¢æµ‹è¯•
- ç”Ÿæˆå•†å“è¯¦æƒ…é¡µé¢æµ‹è¯•
- ç”Ÿæˆè´­ç‰©è½¦åŠŸèƒ½æµ‹è¯•

### åœºæ™¯ 2: ç”¨æˆ·æ³¨å†Œæµç¨‹æµ‹è¯•

**ç”¨æˆ·éœ€æ±‚**: "ä¸ºæˆ‘çš„ç½‘ç«™ç”Ÿæˆç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½çš„è‡ªåŠ¨åŒ–æµ‹è¯•"

**é¢„æœŸç»“æœ**:
- æ³¨å†Œè¡¨å•éªŒè¯æµ‹è¯•
- ç™»å½•åŠŸèƒ½æµ‹è¯•
- é”™è¯¯å¤„ç†æµ‹è¯•

## ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„

```
generated-tests/
â”œâ”€â”€ package.json                    # æµ‹è¯•é¡¹ç›®é…ç½®
â”œâ”€â”€ test-suite.js                   # æµ‹è¯•å¥—ä»¶è¿è¡Œå™¨
â”œâ”€â”€ execution-summary.json          # æ‰§è¡Œç»“æœæ‘˜è¦
â”œâ”€â”€ screenshots/                    # æµè§ˆå™¨æˆªå›¾
â”œâ”€â”€ user_login_flow.test.js         # ç”¨æˆ·ç™»å½•æµ‹è¯•
â”œâ”€â”€ product_browsing.test.js        # å•†å“æµè§ˆæµ‹è¯•
â””â”€â”€ shopping_cart.test.js          # è´­ç‰©è½¦æµ‹è¯•
```

## æµ‹è¯•ç”Ÿæˆçš„ä¸‰ä¸ªé˜¶æ®µ

### é˜¶æ®µä¸€: ä»£ç åˆ†æ ğŸ”
- æ‰«æé¡¹ç›®æ–‡ä»¶ç»“æ„
- åˆ†æè·¯ç”±é…ç½®
- æ£€æµ‹å‰ç«¯æ¡†æ¶
- ç”Ÿæˆåˆæ­¥æµ‹è¯•è®¡åˆ’

### é˜¶æ®µäºŒ: æµè§ˆå™¨éªŒè¯ ğŸŒ
- å¯åŠ¨ Puppeteer æµè§ˆå™¨
- å®é™…è®¿é—®é¡µé¢
- éªŒè¯ DOM å…ƒç´ 
- æˆªå›¾ä¿å­˜
- ç”Ÿæˆç²¾ç¡®çš„é€‰æ‹©å™¨

### é˜¶æ®µä¸‰: ä»£ç ç”Ÿæˆ ğŸ“
- åŸºäºéªŒè¯ç»“æœç”Ÿæˆæµ‹è¯•ä»£ç 
- åˆ›å»ºå¯æ‰§è¡Œçš„ Puppeteer æµ‹è¯•
- ç”Ÿæˆæµ‹è¯•å¥—ä»¶
- é…ç½®æµ‹è¯•ç¯å¢ƒ

## è¿è¡Œç”Ÿæˆçš„æµ‹è¯•

```bash
# è¿›å…¥ç”Ÿæˆçš„æµ‹è¯•ç›®å½•
cd generated-tests

# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œå•ä¸ªæµ‹è¯•
npm run test:single user_login_flow.test.js

# æ— å¤´æ¨¡å¼è¿è¡Œ
npm run test:headless

# è°ƒè¯•æ¨¡å¼è¿è¡Œ
npm run test:debug
```

## è‡ªå®šä¹‰é…ç½®

### å‘½ä»¤è¡Œå‚æ•°

```bash
npm start -- --help

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨é€‰é¡¹
npm start -- --input "ä½ çš„æµ‹è¯•éœ€æ±‚" \
             --project /path/to/your/project \
             --url http://localhost:3000 \
             --output ./custom-tests
```

### ç¯å¢ƒå˜é‡

```bash
# .env æ–‡ä»¶é…ç½®
DEEPSEEK_TOKEN=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# æˆ–è€…ä½¿ç”¨å…¶ä»–æä¾›å•†
GLM_API_KEY=your_glm_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
```

## å¸¸è§é—®é¢˜è§£å†³

### 1. API Key é”™è¯¯
```bash
âŒ No LLM provider configured
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ API Key é…ç½®

### 2. ç«¯å£å†²çª
```bash
âŒ EADDRINUSE: address already in use :::3000
```
**è§£å†³æ–¹æ¡ˆ**: æ›´æ¢ç«¯å£æˆ–å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹

### 3. Puppeteer å¯åŠ¨å¤±è´¥
```bash
âŒ Failed to launch browser
```
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ç³»ç»Ÿå®‰è£…äº† Chrome/Chromium

### 4. ç½‘ç»œè¿æ¥é—®é¢˜
```bash
âŒ Failed to navigate to URL
```
**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ç›®æ ‡ç½‘ç«™å¯ä»¥è®¿é—®

## é«˜çº§ç‰¹æ€§

### 1. å¹¶è¡Œæ‰§è¡Œæµ‹è¯•
ç”Ÿæˆçš„æµ‹è¯•æ”¯æŒå¹¶è¡Œæ‰§è¡Œï¼Œæé«˜æµ‹è¯•æ•ˆç‡

### 2. é”™è¯¯æˆªå›¾
æµ‹è¯•å¤±è´¥æ—¶è‡ªåŠ¨æˆªå›¾ï¼Œä¾¿äºé—®é¢˜è¯Šæ–­

### 3. è¯¦ç»†æ—¥å¿—
æä¾›è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯

### 4. è‡ªå®šä¹‰æ–­è¨€
æ”¯æŒè‡ªå®šä¹‰æ–­è¨€å’ŒéªŒè¯é€»è¾‘

## é›†æˆåˆ° CI/CD

```yaml
# .github/workflows/test.yml
name: Auto Tests
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '18'
      - run: npm install
      - run: npm run generate-tests
      - run: npm test
```

## åé¦ˆå’Œæ”¹è¿›

å¦‚æœä½ å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®:
1. æŸ¥çœ‹ `execution-summary.json` äº†è§£æ‰§è¡Œè¯¦æƒ…
2. æ£€æŸ¥ `error-report.json` æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
3. æäº¤ Issue æˆ– Pull Request

## ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šå‰ç«¯æ¡†æ¶ (Angular, Svelte)
- [ ] ç§»åŠ¨ç«¯æµ‹è¯•æ”¯æŒ
- [ ] å¯è§†åŒ–æµ‹è¯•æŠ¥å‘Š
- [ ] æµ‹è¯•ç”¨ä¾‹ç®¡ç†ç•Œé¢
- [ ] æ€§èƒ½æµ‹è¯•é›†æˆ